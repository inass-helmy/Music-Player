(this["webpackJsonpmusic-player"]=this["webpackJsonpmusic-player"]||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(21)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(3),o=a.n(s),r=(a(15),a(4)),l=a(5),c=a(9),u=a(6),d=a(1),m=a(8),g=(a(16),a(17),function(e){var t=e.title,a=e.src,n=e.id,s=e.playSong,o=e.color,r=e.artist;return i.a.createElement("button",{className:"song-btn",style:{backgroundColor:o},onClick:function(){return function(e,t){s(e,t)}(a,n)}},i.a.createElement("h2",{className:"song-name"},t,i.a.createElement("br",null),i.a.createElement("span",{className:"artist"},r)))}),p=(a(18),function(e){var t=e.isPlaying,a=e.playFirstSong,n=e.firstSong,s=e.pauseSong,o=e.togglePlaying,r=e.resumeSong,l=e.isClicked,c=e.seek,u=e.moveBar,d=e.duration,m=e.playNext,g=e.playPrevious,p=t?"fa fa-pause fa-lg":"fa fa-play fa-lg",f=i.a.createRef();return i.a.createElement("div",{className:"player-controls"},i.a.createElement("button",{className:"player-btn",onClick:function(){return g()}},i.a.createElement("i",{className:"fa fa-step-backward fa-lg","aria-hidden":"true"})),i.a.createElement("button",{className:"player-btn",onClick:function(){o(),t?s():l?r():a(n.url,n.id)}},i.a.createElement("i",{className:p,"aria-hidden":"true"})),i.a.createElement("button",{className:"player-btn",onClick:function(){return m()}},i.a.createElement("span",{className:"fa fa-step-forward fa-lg","aria-hidden":"true"})),i.a.createElement("progress",{ref:f,className:"slider",value:c,max:d,onClick:function(e){var t=f.current.getBoundingClientRect(),a=(e.clientX-t.left)/f.current.offsetWidth;u(100*a)}}))}),f=(a(19),function(e){var t=e.color,a=(e.description,e.userName,e.nowPlayingSong),n=e.artist;return i.a.createElement("div",{className:"nowplaying-song",style:{backgroundColor:t}},i.a.createElement("h2",{className:"song-name"},a.songName,i.a.createElement("br",null),i.a.createElement("span",{className:"artist"},n)),i.a.createElement("p",{className:"song-info"},a.description))}),y=a(7),h=null,S=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).playSong=function(e,t){null!=h&&(h.stop(),h.unload(),h=null);var n=a.state.data,i=n.filter((function(e){return e.id!==t})),s=n.findIndex((function(e){return e.id===t}));console.log("index",s),a.setState({currentIndex:s,currentSrc:e,isPlaying:!0,isClicked:!0,displayList:i}),(h=new y.Howl({src:e,html5:!0,onload:function(){a.setState({duration:h.duration()})},onplay:function(){var e=this;this.setState({seek:h.seek()}),setInterval((function(){e.setState({seek:Math.round(h.seek()||0)})}),1e3)}.bind(Object(d.a)(a)),onend:function(){this.playNextSong()}.bind(Object(d.a)(a))})).play()},a.playNextSong=function(){a.setState({seek:0});var e=a.state,t=e.currentIndex,n=e.data,i=t===n.length-1?n[0]:n[t+1];a.playSong(i.url,i.id)},a.playPreviousSong=function(){a.setState({seek:0});var e=a.state,t=e.currentIndex,n=e.data,i=0===t?n[n.length-1]:n[t-1];a.playSong(i.url,i.id)},a.pauseSong=function(){a.state.isPlaying&&h.pause()},a.togglePlaying=function(){a.setState({isPlaying:!a.state.isPlaying})},a.resumeSong=function(){h.play()},a.moveBar=function(e){var t=a.state.duration;a.setState({seek:e*t/100}),h.seek(e*t/100)},a.state={isLoaded:!1,isPlaying:!1,isClicked:!1,shuffled:!1,seek:0,duration:0,currentIndex:0,song:{id:0,songName:"",url:"",description:"",artist:""},data:[],displayList:[],shuffledList:[]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://ccmixter.org/api/query?f=json&datasource=topics&type=artist_qa&u=victor&limit=10",{headers:{accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t);var a=t.map((function(e){return{songName:e.upload_name,id:e.upload_id,url:e.files[0].download_url,description:e.upload_description_plain,artist:e.user_name}}));e.setState({isLoaded:!0,data:a})}))}},{key:"render",value:function(){var e=this,t=["#581845","#900c3f","#c70039","#c0392b","#900c3f","#58355e","#cc0000","#f4511e","#c0392b","#c70039"],a=this.state,n=a.data,s=a.isClicked,o=a.displayList,r=a.isLoaded,l=a.isPlaying,c=a.seek,u=a.duration,d=a.currentIndex,m=s&&r?o:n;return this.state.isLoaded&&i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"audio-tracks"},i.a.createElement("div",{className:"playlist"},i.a.createElement("h4",{className:"title"},"AVAILABLE SOUNDTRACKS"),m.map((function(a,n){return i.a.createElement(g,{key:a.id,src:a.url,title:a.songName,id:a.id,artist:a.artist,playSong:e.playSong,color:t[n]})}))),(s||l)&&i.a.createElement("div",{className:"now-playing"},i.a.createElement("h4",{className:"title"},"NOW PLAYING"),i.a.createElement(f,{nowPlayingSong:n[d],color:t[d]}))),i.a.createElement(p,{firstSong:n[0],playFirstSong:this.playSong,resumeSong:this.resumeSong,pauseSong:this.pauseSong,isPlaying:l,isClicked:s,togglePlaying:this.togglePlaying,seek:c,duration:u,moveBar:this.moveBar,songDuration:Math.round(u),playNext:this.playNextSong,playPrevious:this.playPreviousSong}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[10,1,2]]]);
//# sourceMappingURL=main.3782aaf9.chunk.js.map